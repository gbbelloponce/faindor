model Group {
  id          Int     @id @default(autoincrement())
  name        String
  description String?

  organizationId Int

  organization Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  members GroupMember[]
  posts   Post[]

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  @@map("groups")
}

model GroupMember {
  id Int @id @default(autoincrement())

  groupId  Int
  memberId Int

  group  Group @relation(fields: [groupId], references: [id], onDelete: Cascade)
  member User  @relation(fields: [memberId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())

  @@unique([groupId, memberId])
  @@map("group_members")
}
